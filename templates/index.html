<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="icon" type="image/png" href="/static/game-trophy.png">
    <link rel="manifest" href="/static/manifest.json">
    <meta name="theme-color" content="#8B89E6">
    <link rel="apple-touch-icon" href="/static/icon-192x192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
</head>
<body>
    <div id="desktop-message" class="desktop-message">
        <h2>This game is only available on mobile devices in portrait mode.</h2>
        <p>Please open this website on your phone or tablet in vertical orientation.</p>
    </div>
    <div id="rotate-message" class="rotate-message">
        <h2>Please rotate your device to portrait mode.</h2>
    </div>
    <div id="mobile-content" class="container">
        <div id="slider-container" class="slider-container">
            <div class="slide">
                <h2>Play & Win Money</h2>
                <img src="/static/slider-1.gif" alt="Rock Paper Scissors" class="slider-gif">
                <button class="next-slide">Next</button>
            </div>
            <div class="slide">
                <h2>Your Participation Helps Us Fundraise for Charity</h2>
                <img src="/static/slider-2.gif" alt="How to Play" class="slider-gif">
                <button class="next-slide">Next</button>
            </div>
            <div class="slide">
                <h2>Enjoy Watching and Playing with Friends & Family</h2>
                <img src="/static/slider-3.jpg" alt="Ready to Play" class="slider-gif">
                <button id="start-button">Start</button>
            </div>
        </div> 
        <div id="rules-page" class="rules-grid" style="display: none;">
            <h2>Game Rules</h2>
            <iframe id="youtube-player" width="560" height="315" src="https://www.youtube.com/embed/ilfsct5LCEw?si=166XjOt0xuLiOOdw&enablejsapi=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
            <p>Rock Paper Scissors is a simple game where:</p>
            <ul>
                <li>Rock beats Scissors</li>
                <li>Scissors beats Paper</li>
                <li>Paper beats Rock</li>
            </ul> 
            <button id="next-button">Next</button>
        </div>
        <div id="menu" class="menu-grid" style="display: none;">
            <img src="/static/menu-logo.png" alt="Menu Logo" class="menu-logo">
            <button id="watch-stream-button">Watch Stream</button>
            <button id="play-button">Play</button>
            <button id="rules-button">Rules</button>
        </div>
        <div id="login-form" class="form-grid" style="display: none;">
            <img src="/static/menu-logo.png" alt="Menu Logo" class="menu-logo">
            <input type="text" id="username" placeholder="Enter your username">
            <input type="text" id="game-id" placeholder="Enter game ID">
            <button id="login-button">Login</button>
        </div>

        <div id="game-area" class="game-grid" style="display: none;">
            <audio id="background-music" loop>
                <source src="/static/rps-bgm.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            <audio id="earn-point-sound">
                <source src="/static/EarnPoint.mp3" type="audio/mpeg">
            </audio>
            <audio id="lose-point-sound">
                <source src="/static/LosingPoint.mp3" type="audio/mpeg">
            </audio>

            <div class="top-right-buttons">
                <img src="/static/sound.png" alt="Sound Effects Enabled" id="enable-sound-btn" class="icon-button">
                <img src="/static/no-sound.png" alt="Sound Effects Disabled" id="disable-sound-btn" class="icon-button" style="display: none;">
                <img src="/static/music.png" alt="Music Playing" id="play-music-btn" class="icon-button">
                <img src="/static/no-music.png" alt="Music Muted" id="mute-music-btn" class="icon-button" style="display: none;">
            </div>

            <div class="container">
                <div class="circle-container">
                    <img id="opponent-photo" src="" alt="Opponent" class="player-image">
                    <div id="opponent-name" class="text-box"></div>
                </div>
                <div id="opponent-score" class="above">0</div>
                <div class="divider"></div>
                <div id="current-player-score" class="below">0</div>
            </div>

            <div class="buttons-container">
                <div id="choices" class="buttons">
                    <button class="choice" data-choice="rock"><i class="fas fa-hand-rock"></i> Rock</button>
                    <button class="choice" data-choice="paper"><i class="fas fa-hand-paper"></i> Paper</button>
                    <button class="choice" data-choice="scissors"><i class="fas fa-hand-scissors"></i> Scissors</button>
                </div>
            </div>

            <div id="current-player" class="rectangle">
                <div class="rectangle-content">
                    <img id="current-player-photo" src="" alt="Current Player" class="player2-image">
                    <span id="current-player-name" class="player2-text"></span>
                </div>
            </div>
        </div>
    </div>
    <div id="custom-popup" class="custom-popup">
        <div class="popup-content">
            <h2>Confirm Your Choice</h2>
            <p id="popup-message"></p>
            <div class="popup-buttons">
                <button id="popup-confirm" class="popup-button confirm">Confirm</button>
                <button id="popup-cancel" class="popup-button cancel">Cancel</button>
            </div>
        </div>
    </div>
    <div id="game-end-popup" class="custom-popup">
        <div class="popup-content">
            <h2 id="game-end-title"></h2>
            <p id="game-end-message"></p>
            <button id="game-end-close" class="popup-button">Close</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="/static/script.js"></script>
</body>
</html>